package com.neverwinterdp.demandspike;

import org.junit.Test;

public class DemandSpikeJobTest {

  

  @Test
  public void testMessageSender() throws Exception {
//	  List<String> connect = new ArrayList<String>();
//	  
//	  connect.add("http://127.0.0.1:7080");
//	  Method method = Method.GET;
//	  JobConfig config;
//	  if(method.equals(Method.POST)){
//		  config = new JobConfig(new MessageDriverConfig("sparkngin", connect,"metrics.consumer",method), 1, 1024, 30000, 100000, 0);
//	  }else{
//		  config = new JobConfig(new MessageDriverConfig(connect,method), 1, 1024, 30000, 1000, 0); 
//	  }
//      ApplicationMonitor appMonitor = new ApplicationMonitor() ;
//      DemandSpikeJob job = new DemandSpikeJob("sparkngin producer",appMonitor, config) ;
//      job.run();
//      ApplicationMonitorSnapshot snapshot = appMonitor.snapshot() ;
//      Map<String, TimerSnapshot> timers = snapshot.getRegistry().getTimers() ;
//      MetricFormater formater = new MetricFormater("  ") ;    
//      System.out.println(formater.format(timers));

  }
}